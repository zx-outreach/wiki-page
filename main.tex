\documentclass[a4paper, 12pt]{article}

\input{preamble.tex}

\begin{document}
{\Huge ZX-calculus} \\

The \textbf{ZX-calculus} is a \emph{graphical language} for reasoning about linear maps between \emph{qubits}. The calculus consists of a set of generators from which diagrams can be made, and a set of rules that govern how diagrams can be transformed into one another. The ZX-calculus is \emph{universal} in the sense that any linear map between qubits can be represented as a ZX-diagram. The standard set of rewrite rules for the ZX-calculus is \emph{complete} for the \emph{stabilizer fragment}, meaning that if two ZX-diagrams represent the same stabilizer computation, then each diagram can be rewritten into the other by application of the rules. There exist extensions to this rule-set that make the ZX-calculus complete for all linear maps between qubits.



\section{Definition}

something about ZX-diagrams as annotated graphs or something....
also maybe about compositionality?

\subsection{Generators}

The building blocks or \underline{generators} of the ZX-calculus are graphical
representations of \emph{specific} \underline{states}, \underline{unitaries},
\underline{isometries}, and \underline{projections} in the \underline{Z and X
  bases}.
The colors green and red (sometimes, white and black) are used to represent the
Z basis and X basis, respectively.
They can furthermore be labelled by a phase, which is a real number from the
interval $[-2\pi, 2\pi]$.
If the phase is zero it is usually not written.
The generators are:
\begin{itemize}
\item states:
  \begin{equation*}
    \tikzfig{figures/generators/green/unit} := \ket{0} + e^{i \alpha} \ket{1} 
    \qquad
    \tikzfig{figures/generators/red/unit} := \ket{+} + e^{i \alpha} \ket{-}
  \end{equation*}

\item unitaries:
  \begin{equation*}
    \tikzfig{figures/generators/green/phase} := | 0 \rangle \langle 0 | + e^{i \alpha} | 1 \rangle \langle 1 | = X_\alpha
  \end{equation*}
  \vspace{1mm}
  \begin{equation*}
    \tikzfig{figures/generators/red/phase} := | + \rangle \langle + | + e^{i \alpha} | - \rangle \langle - | = Z_\alpha
  \end{equation*}
  where $Z_\alpha$ and $X_\alpha$ correspond to \underline{rotations} over the
  \underline{Bloch sphere}  in the $Z$ and $X$ axis. In particular $Z_\pi$ and
  $X_\pi$ are the Z and X \underline{Pauli matrices}.

\item isometries:
  \begin{equation*}
    \tikzfig{figures/generators/green/copy} := | 00 \rangle \langle 0 | + e^{i \alpha} |11 \rangle \langle 1 |
    \qquad
    \tikzfig{figures/generators/green/xor} := | 0 \rangle \langle 00 | + e^{i \alpha} | 1 \rangle \langle 11 |
  \end{equation*}
  \begin{equation*}
    \tikzfig{figures/generators/red/copy} := | ++ \rangle \langle + | + e^{i \alpha} |-- \rangle \langle - |
    \qquad
    \tikzfig{figures/generators/red/xor} := | + \rangle \langle ++ | + e^{i \alpha} | - \rangle \langle -- |
  \end{equation*}

\item projections:
  \begin{equation*}
    \tikzfig{figures/generators/green/counit} := \ket{0} + \ket{1}
    \qquad
    \tikzfig{figures/generators/red/counit} := \ket{+} + \ket{-}
  \end{equation*}
\end{itemize}

Given this interpretation of the generators in terms of linear maps, wires on
the left of nodes are called inputs to the node and wires
on the right are called outputs.

% Using this correspondence we can write down some well-known states and maps from quantum mechanics:
% \begin{equation*}
%   \tikzfig{ket-+}  =  \ket{0} + \ket{1} \ \propto \ket{+} 
%   \qquad 
%   \tikzfig{ket-0}  =  \ket{+} + \ket{-} \ \propto \ket{0}
% \end{equation*}


\subsection{ZX-diagrams}

The generators can be \underline{composed} in two ways:
\begin{itemize}
\item sequentially, by connecting an output wire of one generator to an input
  wire of another;
\item parallelly, by juxtaposing two generators vertically.
\end{itemize}
These laws correspond to the \underline{composition} and \underline{tensor
  product} of linear maps.

Any diagram written by composing generators in this way is called a
\textbf{ZX-diagram}.
ZX-diagrams are closed under both composition laws: connecting
an output of one ZX-diagram to an input of another creates a valid ZX-diagram,
and juxtaposing two ZX-diagrams creates a valid ZX-diagram.


\subsection{Spiders}

Each of the generators of the ZX-calculus can be seen as a special case of a
specific kind of diagrams, called \textbf{spiders}.
Once again, there are two types of spiders, Z-spiders and X-spiders:
\begin{equation*}
    \tikzfig{Z-spider} \qquad \qquad \tikzfig{X-spider}
\end{equation*}
A spider can have an arbitrary number of inputs (wires entering from the left)
and outputs (exiting from the right).

The interpretation of a spider as a linear map is given by
\begin{equation*}
    \tikzfig{Z-spider}\ := \ \ketbra{0...0}{0...0} +
e^{i \alpha} \ketbra{1...1}{1...1} \hfill
\qquad
\hfill \tikzfig{X-spider} \ := \ \ketbra{+...+}{+...+} +
e^{i \alpha} \ketbra{-...-}{-...-}
\end{equation*}

Any ZX-diagram can be viewed as a diagram of ZX-spiders, constructed using the
sequential and parallel compositions laws.



\section{Rewrite rules and Completeness}

As the single input, single output Z-spider represents a rotation over the Z-axis in the Bloch sphere, we see that we have:
\begin{equation*}
    \tikzfig{phase-gate-compose}
\end{equation*}
Where the equality sign means that the two diagrams represent the same linear map, up to a global non-zero scalar factor. This equation can be generalised to spiders with an arbitrary amount of outgoing wires:
\begin{equation*}
    \tikzfig{Z-spider-fusion} \qquad\qquad \tikzfig{X-spider-fusion}
\end{equation*}
This is known as the \emph{spider fusion rule}. The rules of the ZX-calculus allow one to rewrite diagrams while preserving their interpretations as linear maps.

By combining the two types of spiders we can make a \emph{CNOT} gate:
\begin{equation*}
    \tikzfig{cnot}
\end{equation*}
That these different diagrams are equal is due to the meta-rule that \emph{only topology matters}. This means that when two ZX-diagrams can be transformed into one another by topological deformation, then they represent the same linear maps.

The \emph{Hadamard} gate is of special importance to the ZX-calculus, and therefore it is denoted with special notation, namely a yellow box:
\begin{equation*}
    \tikzfig{had-def}
\end{equation*}
This combination of three spiders constitutes a \emph{Euler decomposition} of the Hadamard gate, that is equal to the regular definition of the Hadamard gate up to global phase. The Hadamard gate interchanges the Z- and X-axis of the Bloch sphere. This gives rise to the \emph{colour change rule} of the ZX-calculus:
\begin{equation*}
    \tikzfig{colour-change}
\end{equation*}

We can use these representations of gates and the colour change and spider fusion rule in order to reason about quantum circuits. Consider for instance the following example of a circuit that prepares the \emph{GHZ}-state $\ket{000}+\ket{111}$:
\begin{equation*}
    \tikzfig{ghz-circuit}
\end{equation*}
We used a second rule here, which is \emph{identity removal}:
\begin{equation*}
    \tikzfig{id-removal}
\end{equation*}

The Pauli X gate has a well-known commutation relation with Z-rotations of the form $Z_\alpha X = XZ_{-\alpha}$. This is captured by $\pi$-copy rule:
\begin{equation*}
        \tikzfig{pi-copy}
\end{equation*}

Using this rule we can derive the \emph{phase-gate teleportation} schema, where we prepare a phase rotated state, and then use a CNOT and classical measurement to perform it on the qubit:
\begin{equation*}
    \tikzfig{phase-gate-teleportation}
\end{equation*}


\end{document}