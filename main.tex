\documentclass[a4paper, 12pt]{article}

\input{preamble.tex}

\begin{document}
{\Huge ZX-calculus} \\

The \textbf{ZX-calculus} is a rigorous \emph{graphical language} for reasoning about linear maps between \emph{qubits}, representing these linear maps as \emph{ZX-diagrams}. A ZX-diagram consists of a set of generators called \emph{spiders} that represent specific \emph{tensors}. These are connected together to form a \emph{tensor network} similar to \emph{Penrose graphical notation}. Due to the symmetries of the spiders, a ZX-diagram represents the same linear map when it is topologically deformed. Next to equalities of diagrams generated by the topology, it has a set of \emph{rules} for transforming diagrams into one another. The ZX-calculus is \emph{universal} in the sense that any linear map between qubits can be represented as a ZX-diagram. ZX-diagrams can be seen as a generalisation of \emph{quantum circuit notation}.

\section{History}
The ZX-calculus was first introduced by \emph{Bob Coecke} and \emph{Ross Duncan} in 2008 as an extension of the \emph{Categorical Quantum Mechanics} school of reasoning. They introduced the fundamental concepts of spiders, strong complementarity and most of the standard rewrite rules.

In 2009 Duncan and Perdrix found the additional \emph{Euler Decomposition} rule for the Hadamard gate, which was used by Backens in 2013 to establish the first completeness result for the ZX-calculus. Namely that there exists a set of rewrite rules that suffice to prove all equalities between \emph{stabilizer} ZX-diagrams, where phases are multiples of $\pi/2$, up to global scalars. This result was later refined to completeness including scalar factors (2015).

In 2017, a completion of the ZX-calculus for the approximately universal $\pi/4$ fragment was found, in addition to two independent completeness results for the universal ZX-calculus (where phases are allowed to take any value).

Also in 2017 the book \emph{Picturing Quantum Processes} was released, that builds quantum theory from the ground up, using the ZX-calculus.


\section{Informal introduction}
ZX-diagrams consist of green and red nodes called \emph{spiders}, which are connected by wires. Wires may curve and cross, arbitrarily many wires may connect to the same spider, and multiple wires can go between the same pair of nodes. There are also Hadamard nodes, usually denoted by a yellow box, which always connect to exactly two wires.

ZX-diagrams represent linear maps between \emph{qubits}, similar to the way in which \emph{quantum circuits} represent \emph{unitary} maps between qubits. Yet ZX-diagrams are unlike quantum circuits in two ways. The first is that ZX-diagrams do not have to conform to the rigid topological structure of circuits, and hence can be deformed arbitrarily. The second is that ZX-diagrams come equipped with with a set of rewrite rules, collectively referred to as the \emph{ZX-calculus}. Using these rules, calculations can be performed in the graphical language itself.

For instance, consider the following example of a circuit that constructs a \emph{GHZ-state}. By translating it into a ZX-diagram, we can prove that it does indeed implement this state, using the rules that ``adjacent spiders of the same colour merge'' and ``Hadamard changes the colour of spiders'':
\begin{equation*}
    \tikzfig{ghz-circuit}
\end{equation*}

Any linear map between qubits can be represented as a ZX-diagram, i.e.\ ZX-diagrams are \emph{universal}. A given ZX-diagram can be transformed into another ZX-diagram using the rewrite rules of the ZX-calculus if and only if the two diagrams represent the same linear map, i.e.\ the ZX-calculus is \emph{sound} %% https://en.wikipedia.org/wiki/Soundness
and \emph{complete}. % https://en.wikipedia.org/wiki/Completeness_(logic)

\section{Formal Definition}

ZX-diagrams are the morphisms of a category whose objects are non-negative integers; a ZX-diagram with $n$ input wires on the left and $m$ output wires on the right is a morphism from $n$ to $m$.\footnote{ZX-diagrams may be written with different orientations: here, they are written horizontally from left to right like quantum circuits, but much of the literature uses a vertical orientation, either bottom-to-top or top-to-bottom.}
Two morphisms compose by putting the diagrams one after the other and connecting the ouputs of the first to the inputs of the second.
The identity morphism on $0$ is an empty diagram; for $n>0$, the identity morphism on $n$ consists of $n$ parallel wires.

The category is monoidal with the monoidal product of two diagrams being represented by stacking the diagrams on top of each other. It is also dagger compact. %%% expand

% something about ZX-diagrams as annotated graphs or something....
% also maybe about compositionality?
% 
% ZX-diagrams are \emph{universal}, meaning that any linear map between qubits can be represented by a ZX-diagrams. Certain versions of the ZX-calculus are \emph{complete}, meaning that if 


\subsection{Generators}
All ZX-diagrams are built from eight generators via composition and monoidal product. The following table gives the generators together with their standard interpretations as linear maps, expressed in Dirac notation. The computational basis states are denoted $\ket{0}, \ket{1}$ and the Hadamard-transformed basis states are
\[
 \ket{+} = \frac{1}{\sqrt{2}}(\ket{0}+\ket{1}), \qquad \ket{-} = \frac{1}{\sqrt{2}}(\ket{0}-\ket{1}).
\]
The $n$-fold tensor product of some vector $\ket{\psi}$ with itself is written as $\ket{\psi}^{\otimes n}$.

%% this wants to be a table
\noindent\begin{tabular}{|l|c|c|l|}
 \hline
 empty diagram & \tikzfig{figures/generators/empty} & $0\to0$ & $1$ \\
 wire & --- & $1\to1$ & $\ket{0}\bra{0}+\ket{1}\bra{1}$ \\
 left ear & \tikzfig{figures/generators/left-ear} & $0\to2$ & $\ket{00}+\ket{11}$ \\
 right ear & \tikzfig{figures/generators/right-ear} & $2\to 0$ & $\bra{00}+\bra{11}$ \\
 swap & \tikzfig{figures/generators/swap} & $2\to 2$ & $\ket{00}\bra{00}+\ket{01}\bra{10}+\ket{10}\bra{01}+\ket{11}\bra{11}$ \\
 green spider & \tikzfig{figures/generators/green-spider} & $n\to m$ & $\ket{0}^{\otimes m}\bra{0}^{\otimes n} + e^{i\alpha}\ket{1}^{\otimes m}\bra{1}^{\otimes n}$ \\ %% picture is a hack, but I do want the braces
 red spider & \tikzfig{figures/generators/red-spider} & $n\to m$ & $\ket{+}^{\otimes m}\bra{+}^{\otimes n} + e^{i\alpha}\ket{-}^{\otimes m}\bra{-}^{\otimes n}$ \\
 Hadamard & \tikzfig{figures/generators/had} & $1\to 1$ & $\ket{+}\bra{0}+\ket{-}\bra{1}$ \\
 \hline
\end{tabular}

The first generator is an empty diagram, the dashed box is only there to indicate ``this space intentionally left blank''.

The standard interpretation of the generators extends to a monoidal functor from the category of ZX-diagrams to the category of finite-dimensional Hilbert spaces, thus any ZX-diagram built from the generators has a well-defined interpretation as a linear map.

Among the three types of generating nodes (green spider, red spider, and Hadamard), one is superfluous: any one of the three can be expressed in terms of the other two. Some versions of the ZX-calculus therefore consider the Hadamard node as a syntactic sugar rather than a generator. Other versions add a further syntactic sugar, a triangle node with one input and one output, representing the non-unitary map $\ket{0}\bra{0}+\ket{0}\bra{1}+\ket{1}\bra{1}$.
% add picture of triangle or remove this


\subsection{Rewrite rules}

There are many different versions of the ZX-calculus, using different systems of rewrite rules as axioms. The following are some of the core set of rules, here given ``up to scalar factor'': i.e.\ two diagrams $D_1$ and $D_2$ are considered to be equal if their interpretations differ by a non-zero complex factor.

\begin{tabular}{|c|p{8cm}|}
 \hline
 \tikzfig{Z-spider-fusion} & The \emph{green spider rule} corresponds to the fact that the green spider represents an orthonormal basis -- the computational basis. \\ %% what do we do about the fact that there must be at least one connection in the middle whereas everywhere else \ldots means ``0 or more''
 \tikzfig{X-spider-fusion} & The \emph{red spider rule} corresponds to the fact that the red spider represents an orthonormal basis -- the Hadamard-transformed basis. \\
 \tikzfig{left-ear-rule} & The Bell state is the same, whether expressed in the computational basis or the Hadamard-transformed basis. It can also be expressed as a ``left ear'' wire. In category-theoretical terms, the compact structures induced by green and red spiders coincide. \\
 \tikzfig{colour-change} & The \emph{colour change rule} expresses the property that the Hadamard node maps between the computational basis and the Hadamard-transformed basis. \\
 \tikzfig{copy} & The \emph{copy rule} states that a green spider copies degree-1 red spiders. An analogous rule holds with the colours swapped. \\
 \tikzfig{bialgebra} & The \emph{bialgebra rule} expresses the property that computational and Hadamard-transformed basis are strongly complementary. \\
 \tikzfig{Euler-dec} & The \emph{Euler decomposition of the Hadamard node} expresses the fact that the Hadamard matrix -- like any unitary matrix -- can be expressed as a product of three rotations about two axes. \\
 \hline
\end{tabular}




%% only topology matters
%% explict rules -- only core set?

\subsection{Generators, informally}
%% add these to informal introduction

The building blocks or \underline{generators} of the ZX-calculus are graphical
representations of \emph{specific} \underline{states}, \underline{unitaries},
\underline{isometries}, and \underline{projections} in the \underline{Z and X
  bases}.
The colors green and red (sometimes, white and black) are used to represent the
Z basis and X basis, respectively.
They can furthermore be labelled by a phase, which is a real number from the
interval $[-2\pi, 2\pi]$.
If the phase is zero it is usually not written.
The generators are:
\begin{itemize}
\item states:
  \begin{equation*}
    \tikzfig{figures/generators/green/unit} := \ket{0} + e^{i \alpha} \ket{1} 
    \qquad
    \tikzfig{figures/generators/red/unit} := \ket{+} + e^{i \alpha} \ket{-}
  \end{equation*}

\item unitaries:
  \begin{equation*}
    \tikzfig{figures/generators/green/phase} := | 0 \rangle \langle 0 | + e^{i \alpha} | 1 \rangle \langle 1 | = X_\alpha
  \end{equation*}
  \vspace{1mm}
  \begin{equation*}
    \tikzfig{figures/generators/red/phase} := | + \rangle \langle + | + e^{i \alpha} | - \rangle \langle - | = Z_\alpha
  \end{equation*}
  where $Z_\alpha$ and $X_\alpha$ correspond to \underline{rotations} over the
  \underline{Bloch sphere}  in the $Z$ and $X$ axis. In particular $Z_\pi$ and
  $X_\pi$ are the Z and X \underline{Pauli matrices}.

\item isometries:
  \begin{equation*}
    \tikzfig{figures/generators/green/copy} := | 00 \rangle \langle 0 | + e^{i \alpha} |11 \rangle \langle 1 |
    \qquad
    \tikzfig{figures/generators/green/xor} := | 0 \rangle \langle 00 | + e^{i \alpha} | 1 \rangle \langle 11 |
  \end{equation*}
  \begin{equation*}
    \tikzfig{figures/generators/red/copy} := | ++ \rangle \langle + | + e^{i \alpha} |-- \rangle \langle - |
    \qquad
    \tikzfig{figures/generators/red/xor} := | + \rangle \langle ++ | + e^{i \alpha} | - \rangle \langle -- |
  \end{equation*}

\item projections:
  \begin{equation*}
    \tikzfig{figures/generators/green/counit} := \ket{0} + \ket{1}
    \qquad
    \tikzfig{figures/generators/red/counit} := \ket{+} + \ket{-}
  \end{equation*}
\end{itemize}

Given this interpretation of the generators in terms of linear maps, wires on
the left of nodes are called inputs to the node and wires
on the right are called outputs.

% Using this correspondence we can write down some well-known states and maps from quantum mechanics:
% \begin{equation*}
%   \tikzfig{ket-+}  =  \ket{0} + \ket{1} \ \propto \ket{+} 
%   \qquad 
%   \tikzfig{ket-0}  =  \ket{+} + \ket{-} \ \propto \ket{0}
% \end{equation*}


\subsection{ZX-diagrams}

The generators can be \underline{composed} in two ways:
\begin{itemize}
\item sequentially, by connecting an output wire of one generator to an input
  wire of another;
\item in parallel, by juxtaposing two generators vertically.
\end{itemize}
These laws correspond to the \underline{composition} and \underline{tensor
  product} of linear maps.

Any diagram written by composing generators in this way is called a
\textbf{ZX-diagram}.
ZX-diagrams are closed under both composition laws: connecting
an output of one ZX-diagram to an input of another creates a valid ZX-diagram,
and juxtaposing two ZX-diagrams creates a valid ZX-diagram.


\subsection{Spiders}

Each of the generators of the ZX-calculus can be seen as a special case of a
specific kind of diagrams, called \textbf{spiders}.
Once again, there are two types of spiders, Z-spiders and X-spiders:
\begin{equation*}
    \tikzfig{Z-spider} \qquad \qquad \tikzfig{X-spider}
\end{equation*}
A spider can have an arbitrary number of inputs (wires entering from the left)
and outputs (exiting from the right).

The interpretation of a spider as a linear map is given by
\begin{equation*}
    \tikzfig{Z-spider}\ := \ \ketbra{0...0}{0...0} +
e^{i \alpha} \ketbra{1...1}{1...1} \hfill
\qquad
\hfill \tikzfig{X-spider} \ := \ \ketbra{+...+}{+...+} +
e^{i \alpha} \ketbra{-...-}{-...-}
\end{equation*}

Any ZX-diagram can be viewed as a diagram of Z- or X-spiders, constructed using the
sequential and parallel compositions laws.



\section{Rewrite rules and Completeness}

The single input, single output Z-spider represents a rotation over the Z-axis in the Bloch sphere and hence the following equality holds:
\begin{equation*}
    \tikzfig{phase-gate-compose}
\end{equation*}
Here, the equality sign means that the two diagrams represent the same linear map, up to a global non-zero scalar factor. This equation generalises to spiders with an arbitrary amount of outgoing wires:
\begin{equation*}
    \tikzfig{Z-spider-fusion} \qquad\qquad \tikzfig{X-spider-fusion}
\end{equation*}
This is known as the \emph{spider fusion rule}. The rules of the ZX-calculus allow one to rewrite diagrams while preserving their interpretations as linear maps.

By combining the two types of spiders we can make a \emph{CNOT} gate:
\begin{equation*}
    \tikzfig{cnot}
\end{equation*}
That these different diagrams are equal is due to the meta-rule that \emph{only topology matters}. This means that when two ZX-diagrams can be transformed into one another by topological deformation, then they represent the same linear maps.

The \emph{Hadamard} gate is of special importance to the ZX-calculus, and therefore it is denoted with special notation, namely a yellow box:
\begin{equation*}
    \tikzfig{had-def}
\end{equation*}
This combination of three spiders constitutes a \emph{Euler decomposition} of the Hadamard gate, that is equal to the regular definition of the Hadamard gate up to global phase. The Hadamard gate interchanges the Z- and X-axis of the Bloch sphere. This gives rise to the \emph{colour change rule} of the ZX-calculus:
\begin{equation*}
    \tikzfig{colour-change}
\end{equation*}

We can use these representations of gates and the colour change and spider fusion rule in order to reason about quantum circuits. Consider for instance the following example of a circuit that prepares the \emph{GHZ}-state $\ket{000}+\ket{111}$:
\begin{equation*}
    \tikzfig{ghz-circuit}
\end{equation*}
We used a second rule here, which is \emph{identity removal}:
\begin{equation*}
    \tikzfig{id-removal}
\end{equation*}

The Pauli X gate has a well-known commutation relation with Z-rotations of the form $Z_\alpha X = XZ_{-\alpha}$. This is captured by $\pi$-copy rule:
\begin{equation*}
        \tikzfig{pi-copy}
\end{equation*}

Using this rule we can derive the \emph{phase-gate teleportation} schema, where we prepare a phase rotated state, and then use a CNOT and classical measurement to perform it on the qubit:
\begin{equation*}
    \tikzfig{phase-gate-teleportation}
\end{equation*}


\section{Applications}
The ZX-calculus has been used in a variety of quantum information and computation tasks. It has been used
\begin{itemize}
  \item to describe \emph{Measurement-based quantum computation} and \emph{graph states}.
  \item as a language for \emph{lattice surgery} in \emph{surface codes}. 
  \item for designing and verifying \emph{quantum error correcting codes}.
  \item for optimizing quantum circuits.
\end{itemize}
 

\section{Tools}
The rewrite rules of the ZX-calculus can be implemented formally as an instance of \emph{double-pushout rewriting}. This has been used in the software \emph{Quantomatic} to allow automated rewriting of ZX-diagrams (or more general \emph{string diagrams}). In order to formalise the usage of the ``dots'' to denote any number of wires, such as used in the spider fusion rule, this software uses \emph{bang-box} notation to implement rewrite rules where the spiders can have any number of inputs or outputs.

A more recent project to handle ZX-diagrams is \emph{PyZX}, which is primarily focussed on circuit optimisation.


\section{Related graphical languages}
The ZX-calculus is only one of several graphical languages for describing linear maps between qubits. The \emph{ZW-calculus} was developed alongside the ZX-calculus, and can naturally describe the \emph{W-state} and \emph{Fermionic quantum computing}. It was the first graphical language which had a complete rule-set for a approximately universal set of linear maps between qubits, and the early completeness results of the ZX-calculus use a reduction to the ZW-calculus.

A more recent language is the \emph{ZH-calculus}. This adds the \emph{H-box} as a generator, that generalises the Hadamard gate from the ZX-calculus. It can naturally describe quantum circuits involving \emph{Toffoli} gates.


\section{See also}
\begin{itemize}
  \item Categorical Quantum Mechanics
  \item Quantum Circuit Notation
\end{itemize}



\section{External references}
The website

\end{document}